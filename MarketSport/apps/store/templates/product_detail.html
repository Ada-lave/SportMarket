    {% extends 'base.html' %}
    {% load static %}

    {% block styles %}
    <link rel="stylesheet" href="{% static 'css/moreAboutProduct/style.css' %}"> 
    <link rel="stylesheet" href="{% static 'css/moreAboutProduct/styleMobile.css' %}"> 

    <!-- Если есть необходимость подключить другие стили подключай тут, а так файлик css в котором можно писать лежит выше-->

    {% endblock %}


    {% block content %}
    <!-- Тут пиши код связанный с отображение товаров, то есть сам html-->

<div class="MainAbout" id="app">

        <div class="HistoryLink">

        <a href="{% url 'mainpage' %}" class="CategoryLink">Главная </a>

            <img src="{% static 'imgs/moreAboutProduct/arrow.png' %}" alt="" class="IconHistory">

        <a href="{% url 'category' product.category.slug %}" class="CategoryLink">{{ product.category.title }}</a>

            <img src="{% static 'imgs/moreAboutProduct/arrow.png' %}" alt="" class="IconHistory">

        <a href="#" class="CategoryLink">{{ product.title }}</a>

        </div>



        <div class="Product">


            <div class="SliderList">


                <div class="SliderListItem">
                    <img src="{{ product.image1.url }}" alt="" class="SliderImg">
                    <div class="Line hidden"></div>
                </div>

                <div class="SliderListItem">
                    <img src="{{ product.image2.url }}" alt="" class="SliderImg">
                    <div class="Line hidden"></div>
                </div>

                <div class="SliderListItem">
                    <img src="{{ product.image3.url }}" alt="" class="SliderImg">
                    <div class="Line hidden"></div>
                </div>

                <div class="SliderListItem">
                    <img src="{{ product.image4.url }}" alt="" class="SliderImg">
                    <div class="Line hidden"></div>
                </div>

            </div>


            <div class="MainImgWrapper">

                <img src="{{ product.image1 }}" alt="" class="MainImg">

            </div>
        



        <div class="ProductInformation">
            <h1 class="ProductHeading">{{ product.title }}</h1>
            <a class="ProductCategoryLink" href="{% url 'category' product.category.slug %}"><h2 class="ProductCategory">{{ product.category.title }}</h2></a>
            <p class="ProductPrice">₽ {{ product.price }}</p>

                <div class="HarProoduct">

                    <p class="ColorListHeading">Цвет</p>

                    <div class="ColorList">
    
                    <a href="#"><div class="ColorProduct" style="background-color: {{ product.color }};"></div></a>
                   
    
                    </div>
    
    
                    <p class="SizeListHeading">Размер</p>
    
                    <div class="SizeList">
    
                    <div class="SizeItem ">
                        <div class="SizeText">{{ product.size }}</div>
                    </div>
    
                     
                    <div class="Annotation" style="cursor: pointer;">

                        <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                        <svg fill="#000000" width="15px" height="15px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
                            <path d="M960 1242.342c62.23 0 112.941 50.71 112.941 112.94 0 62.231-50.71 112.942-112.941 112.942-62.23 0-112.941-50.71-112.941-112.941 0-62.23 50.71-112.941 112.941-112.941Zm89.336-892.01c114.862 29.704 208.264 123.106 237.968 237.967 23.378 90.466 10.729 183.304-35.464 261.46-45.515 77.138-121.186 133.947-207.586 156.084-13.779 3.614-27.783 14.795-27.783 31.962v91.595H903.529v-91.595c0-66.183 46.306-124.235 112.716-141.29 57.6-14.795 107.971-52.743 138.353-104.131 30.833-52.292 39.19-114.635 23.378-175.85-19.651-75.67-81.204-137.223-156.875-156.875-70.927-18.183-143.435-3.953-199.341 39.304-55.68 43.143-87.642 108.31-87.642 178.673H621.176c0-105.6 47.888-203.294 131.464-268.01 83.69-64.828 191.774-86.287 296.696-59.294ZM960-.01c-529.355 0-960 430.644-960 960 0 529.355 430.645 960 960 960 529.468 0 960-430.645 960-960 0-529.356-430.532-960-960-960" fill-rule="evenodd"/>
                        </svg>

                        <div class="AnottationText">
                            Для утотчнения информация на счёт размера, обращайтесь к менеджеру
                        </div>
                    </div>


                </div>
                

                </div>



            <button class="AddCartBtn" v-on:click="addToCart({{ product.id }})">[[ this.button ]]</button>

            </div>


    
        
        </div>

        <div class="ProductDescription">

            <div class="ProductDescriptionMain">
                <div class="line"></div>
                <div class="productDescriptionHeader">
                    Описание
                </div>

                <div class="Descripton">

                <p>{{ product.descriptions }}</p>
                
            </div>


            </div>
        


            <div class="Specifications">
                <h2 class="SpecificationsHeader">Характеристики</h2>
            

                <div class="SpecificationList">

                                    
                            <div class="SpecificationsItem">
                                    <p class="NameSpecifications">Материал изделия</p>
                                    <div class="line"></div>

                                <p class="ValueSpecifications">
                                    {{ product.material }}
                                </p>
                            
                
                        </div>
                    
                                  
                        <div class="SpecificationsItem">
                                <p class="NameSpecifications">Вид спорта</p>
                                <div class="line"></div>

                                <p class="ValueSpecifications">
                                    {{ product.sports_type }}
                                </p>
                            
                
                        </div>
                    
                                  
                        <div class="SpecificationsItem">
                                <p class="NameSpecifications">Сезон</p>
                                <div class="line"></div>

                                <p class="ValueSpecifications">
                                    {{ product.season }}
                                </p>
                            
                
                        </div>
                    
                                  
                        <div class="SpecificationsItem">
                                <p class="NameSpecifications">Пол</p>
                                <div class="line"></div>

                                <p class="ValueSpecifications">
                                    {{ product.gender }}
                                </p>
                            
                
                        </div>
                    
                                  
                        <div class="SpecificationsItem">
                                <p class="NameSpecifications">Бренд одежды</p>
                                <div class="line"></div>

                                <p class="ValueSpecifications">
                                {{ product.brand }}
                                </p>
                            
                
                        </div>
                    



                </div>
        
                <div class="structure">

                    <p class="StructureHeader">

                    </p>


                </div>


        </div>





        
    </div>

    </div>  




    {% endblock %}


{% block scripts %}





    <script>


    

    var app = new Vue({
        el: '#app',
        delimiters: ['[[',']]'],
        data(){
            return {
                button: 'Добавить в корзину'
            }
        },

        methods:{
            addToCart(prod_id){
                console.log(prod_id)
                var data = {'id':prod_id, 'update':false, 'quantity':1}

                fetch('/api/add',{
                    method: 'POST',
                    headers: {
                        'Content-Type':'application/json',
                        'X-CSRFToken': '{{ csrf_token }}'
                    },
                    credentials: 'same-origin',
                    body: JSON.stringify(data)
                })
                .then((response) => {
                    console.log(response)
                })
                
                    .catch(function error(){
                        console.log('Error 2')
                    })

                
                this.button = "Товар в корзине"
                }

                
        }
    })

    </script>

    <script src="{% static 'js/About/Border.js' %}"></script>
    <script src="{% static 'js/About/Slider.js' %}"></script>
    <script src="{% static 'js/navbar/header.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>

        let anotationButton = document.querySelector('.Annotation');
        let anotationText = document.querySelector('.AnottationText')


         anotationButton.addEventListener('click', ()=>{

            anotationText.classList.toggle('AnottationTextActive')
            anotationText.classList.toggle('AnottationText')

        })
    

    </script>
    
{% endblock %}